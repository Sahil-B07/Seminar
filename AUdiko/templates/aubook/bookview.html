{% extends 'aubook/base.html' %}

{% block title %} Book View {% endblock %}

{% block body %}

<!-- <div class="container">
    <div class="open">
        <h1> {{book.book_name}} </h1>

        <div class="openbook">
            <span class="page turn"></span>
            <span class="page turn"></span>
            <span class="page turn"></span>
            <span class="page turn"></span>
            <span class="page turn"></span>
            <span class="page turn"></span>
            <span class="cover" style="background-image: url('/media/{{book.image}}');"></span>
            <span class="page"></span>
            <span class="cover turn" style="background-image: url('/media/{{book.image}}');"></span>
        </div>

    </div>
</div> -->


<div class="book-section">
    <div class="container">
        <div class="right">
            <figure class="back" style="background-image: url('/media/{{book.image}}');"></figure>
            <figure class="front" style="background-color:dimgray ;"><h1 style="padding-top: 35%; font-size: 3vw;">The End</h1></figure>
        </div>
        <div class="right">
            <figure class="back"></figure>
            <figure class="front"></figure>
        </div>
        <div class="right">
            <figure class="back"></figure>
            <figure class="front"></figure>
        </div>
        <div class="right">
            <figure class="back"></figure>
            <figure class="front"></figure>
        </div>
        <div class="right">
            <figure class="back"></figure>
            <figure class="front"></figure>
        </div>
        <div class="right">
            <figure class="back">
                <h1 class="my-4">{{book.book_name}}</h1>
                <p>A/An <strong>{{book.genre}}</strong> Book</p>
            </figure>
            <figure class="front img-fluid " id="cover" style="background-image: url('/media/{{book.image}}');">
            </figure>
        </div>
    </div>

    <button class="mb-3 flex-fill" onclick="turnLeft()">Prev</button> <button class="mb-3 flex-fill" onclick="turnRight()">Next</button>
    <br />
</div>


<script>

    var right = document.getElementsByClassName("right");
    var si = right.length;
    var z = 1;
    
    function turnRight() {
        if (si >= 1) {
            si--;
        }
        else {
            si = right.length ;
            function sttmot(i) {
                setTimeout(function () { right[i].style.zIndex = "auto"; }, 300);
            }
            for (var i = 0; i < right.length; i++) {
                right[i].className = "right";
                sttmot(i);
                z = 1;
            }
        }
        right[si].classList.add("flip");
        z++;
        right[si].style.zIndex = z;
    }
    function turnLeft() {
        if (si < right.length) {
            si++;
        }
        else {
            si = 1;
            for (var i = right.length - 1; i > 0; i--) {
                right[i].classList.add("flip");
                right[i].style.zIndex = right.length + 1 - i;
            }
        }
        right[si - 1].className = "right";
        setTimeout(function () { right[si - 1].style.zIndex = "auto"; }, 350);
    }

</script>


{% endblock %}